{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Code/japanese-learning/components/features/api-key/GoogleApiKeyInput.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\n\nexport default function GoogleApiKeyInput() {\n  const [userApiKey, setUserApiKey] = useState<string>('');\n  const [useUserApiKey, setUseUserApiKey] = useState<boolean>(false);\n  const [showApiKeyInput, setShowApiKeyInput] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n\n  // Kiểm tra xem đã có API key được lưu trong localStorage chưa\n  useEffect(() => {\n    const savedApiKey = localStorage.getItem('google_ai_api_key');\n    if (savedApiKey) {\n      setUserApiKey(savedApiKey);\n      setUseUserApiKey(true);\n    }\n  }, []);\n\n  // Hàm lưu API key\n  const saveApiKey = () => {\n    if (userApiKey.trim()) {\n      localStorage.setItem('google_ai_api_key', userApiKey.trim());\n      setUseUserApiKey(true);\n      setError(null);\n      setSuccess(\"API key đã được lưu thành công!\");\n      \n      // Tự động ẩn thông báo thành công sau 3 giây\n      setTimeout(() => {\n        setSuccess(null);\n      }, 3000);\n    } else {\n      setError(\"Vui lòng nhập API key hợp lệ\");\n      setSuccess(null);\n    }\n  };\n\n  // Hàm xóa API key\n  const clearApiKey = () => {\n    localStorage.removeItem('google_ai_api_key');\n    setUserApiKey('');\n    setUseUserApiKey(false);\n    setSuccess(\"Đã xóa API key\");\n    \n    // Tự động ẩn thông báo thành công sau 3 giây\n    setTimeout(() => {\n      setSuccess(null);\n    }, 3000);\n  };\n\n  return (\n    <div className=\"border border-gray-200 rounded-lg p-3 bg-gray-50\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <div className=\"text-sm font-medium\">Cài đặt Google AI API Key</div>\n        <button\n          onClick={() => setShowApiKeyInput(!showApiKeyInput)}\n          className=\"text-xs text-blue-600\"\n        >\n          {showApiKeyInput ? \"Ẩn\" : \"Hiện\"}\n        </button>\n      </div>\n      \n      {showApiKeyInput && (\n        <div className=\"space-y-2\">\n          <div className=\"text-xs text-gray-500 mb-1\">\n            Để tránh tình trạng quá tải API khi nhiều người cùng sử dụng, bạn có thể dùng API key riêng của Google AI.\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <input\n              type=\"text\"\n              value={userApiKey}\n              onChange={(e) => setUserApiKey(e.target.value)}\n              placeholder=\"Nhập Google AI API key của bạn\"\n              className=\"flex-1 px-3 py-1 border border-gray-300 rounded text-sm\"\n            />\n            <button\n              onClick={saveApiKey}\n              className=\"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700\"\n              disabled={!userApiKey.trim()}\n            >\n              Lưu\n            </button>\n          </div>\n          \n          {useUserApiKey && userApiKey && (\n            <div className=\"flex justify-between items-center\">\n              <div className=\"text-xs text-green-600\">\n                Đang sử dụng API key của bạn: {userApiKey.substring(0, 8)}...\n              </div>\n              <button\n                onClick={clearApiKey}\n                className=\"text-xs text-red-600 hover:underline\"\n              >\n                Xóa\n              </button>\n            </div>\n          )}\n          \n          {error && (\n            <div className=\"text-xs text-red-600 bg-red-50 p-2 rounded border border-red-100\">\n              {error}\n            </div>\n          )}\n          \n          {success && (\n            <div className=\"text-xs text-green-600 bg-green-50 p-2 rounded border border-green-100\">\n              {success}\n            </div>\n          )}\n          \n          <div className=\"text-xs space-y-1 pt-1 border-t border-gray-200 mt-2 pt-2\">\n            <div className=\"font-medium\">Hướng dẫn lấy API key:</div>\n            <ol className=\"list-decimal pl-5 text-gray-600\">\n              <li>Truy cập <a href=\"https://ai.google.dev/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-600 underline\">Google AI Studio</a></li>\n              <li>Tạo tài khoản Google (nếu chưa có)</li>\n              <li>Nhấn vào \"Get API key\" hoặc \"Create API key\"</li>\n              <li>Làm theo hướng dẫn để tạo key mới</li>\n              <li>Dán API key vào đây và nhấn \"Lưu\"</li>\n            </ol>\n            <p className=\"mt-1 text-gray-500\">\n              API key được lưu trong trình duyệt của bạn và không được gửi đến máy chủ của chúng tôi.\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACrD,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IAC5D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IAChE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAEtD,8DAA8D;IAC9D,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,MAAM,cAAc,aAAa,OAAO,CAAC;YACzC,IAAI,aAAa;gBACf,cAAc;gBACd,iBAAiB;YACnB;QACF;sCAAG,EAAE;IAEL,kBAAkB;IAClB,MAAM,aAAa;QACjB,IAAI,WAAW,IAAI,IAAI;YACrB,aAAa,OAAO,CAAC,qBAAqB,WAAW,IAAI;YACzD,iBAAiB;YACjB,SAAS;YACT,WAAW;YAEX,6CAA6C;YAC7C,WAAW;gBACT,WAAW;YACb,GAAG;QACL,OAAO;YACL,SAAS;YACT,WAAW;QACb;IACF;IAEA,kBAAkB;IAClB,MAAM,cAAc;QAClB,aAAa,UAAU,CAAC;QACxB,cAAc;QACd,iBAAiB;QACjB,WAAW;QAEX,6CAA6C;QAC7C,WAAW;YACT,WAAW;QACb,GAAG;IACL;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCAAsB;;;;;;kCACrC,6LAAC;wBACC,SAAS,IAAM,mBAAmB,CAAC;wBACnC,WAAU;kCAET,kBAAkB,OAAO;;;;;;;;;;;;YAI7B,iCACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCAA6B;;;;;;kCAG5C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gCAC7C,aAAY;gCACZ,WAAU;;;;;;0CAEZ,6LAAC;gCACC,SAAS;gCACT,WAAU;gCACV,UAAU,CAAC,WAAW,IAAI;0CAC3B;;;;;;;;;;;;oBAKF,iBAAiB,4BAChB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;oCAAyB;oCACP,WAAW,SAAS,CAAC,GAAG;oCAAG;;;;;;;0CAE5D,6LAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;oBAMJ,uBACC,6LAAC;wBAAI,WAAU;kCACZ;;;;;;oBAIJ,yBACC,6LAAC;wBAAI,WAAU;kCACZ;;;;;;kCAIL,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAc;;;;;;0CAC7B,6LAAC;gCAAG,WAAU;;kDACZ,6LAAC;;4CAAG;0DAAS,6LAAC;gDAAE,MAAK;gDAAyB,QAAO;gDAAS,KAAI;gDAAsB,WAAU;0DAA0B;;;;;;;;;;;;kDAC5H,6LAAC;kDAAG;;;;;;kDACJ,6LAAC;kDAAG;;;;;;kDACJ,6LAAC;kDAAG;;;;;;kDACJ,6LAAC;kDAAG;;;;;;;;;;;;0CAEN,6LAAC;gCAAE,WAAU;0CAAqB;;;;;;;;;;;;;;;;;;;;;;;;AAQ9C;GA5HwB;KAAA","debugId":null}}]
}