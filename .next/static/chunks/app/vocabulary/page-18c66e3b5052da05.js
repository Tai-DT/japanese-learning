(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[855],{1871:(e,s,a)=>{Promise.resolve().then(a.bind(a,5826))},5826:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c});var l=a(5155),n=a(2115);function t(e){let{item:s}=e,[a,t]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!1),c=async()=>{if(!r){i(!0);try{let e=new SpeechSynthesisUtterance(s.japanese);e.lang="ja-JP",e.onend=()=>i(!1),speechSynthesis.speak(e)}catch(e){console.error("Error playing audio:",e),i(!1)}}};return(0,l.jsxs)("div",{className:"border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("h3",{className:"text-2xl font-bold",children:s.japanese}),(0,l.jsx)("span",{className:"text-xs bg-blue-100 px-2 py-1 rounded",children:s.level})]}),(0,l.jsx)("p",{className:"text-gray-600",children:s.hiragana}),(0,l.jsx)("p",{className:"text-gray-500 text-sm",children:s.romaji})]}),(0,l.jsx)("div",{className:"p-4 border-t bg-gray-50",children:a?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("p",{className:"font-medium",children:s.meaning}),(0,l.jsxs)("div",{className:"mt-4 p-3 bg-gray-100 rounded-md",children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:"V\xed dụ:"}),(0,l.jsx)("p",{className:"mt-1",children:s.example.japanese}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:s.example.meaning})]})]}):(0,l.jsx)("div",{className:"h-24 flex items-center justify-center",children:(0,l.jsx)("p",{className:"text-gray-400",children:"Nhấn để hiển thị nghĩa"})})}),(0,l.jsxs)("div",{className:"flex border-t",children:[(0,l.jsx)("button",{className:"flex-1 py-2 text-center hover:bg-gray-100 transition-colors",onClick:()=>t(!a),children:a?"Ẩn nghĩa":"Hiện nghĩa"}),(0,l.jsx)("button",{className:"flex-1 py-2 text-center bg-blue-50 hover:bg-blue-100 transition-colors",onClick:c,disabled:r,children:r?"Đang ph\xe1t...":"Ph\xe1t \xe2m"})]})]})}function r(e){let{vocabulary:s}=e;return(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,l.jsx)(t,{item:e},e.id))})}function i(e){let{onSearch:s}=e,[a,t]=(0,n.useState)(""),[r,i]=(0,n.useState)("all");return(0,l.jsx)("div",{className:"bg-gray-50 p-6 rounded-lg",children:(0,l.jsx)("form",{onSubmit:e=>{e.preventDefault(),s(a,r)},className:"space-y-4",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)("input",{type:"text",placeholder:"T\xecm kiếm từ vựng...",value:a,onChange:e=>t(e.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})}),(0,l.jsxs)("div",{className:"md:w-1/4",children:[(0,l.jsx)("label",{htmlFor:"level-select",className:"sr-only",children:"Cấp độ"}),(0,l.jsxs)("select",{id:"level-select",value:r,onChange:e=>i(e.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[(0,l.jsx)("option",{value:"all",children:"Tất cả cấp độ"}),(0,l.jsx)("option",{value:"N5",children:"N5 (Cơ bản)"}),(0,l.jsx)("option",{value:"N4",children:"N4"}),(0,l.jsx)("option",{value:"N3",children:"N3"}),(0,l.jsx)("option",{value:"N2",children:"N2"}),(0,l.jsx)("option",{value:"N1",children:"N1 (N\xe2ng cao)"})]})]}),(0,l.jsx)("button",{type:"submit",className:"md:w-auto px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"T\xecm Kiếm"})]})})})}function c(){let[e,s]=(0,n.useState)([]),[a,t]=(0,n.useState)(!0),[c,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{d()},[]);let d=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"N5";t(!0),o(null);try{let l=await fetch("/api/ai/vocabulary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,level:a,count:6})});if(!l.ok){let e=await l.json();throw Error(e.message||"Failed to fetch vocabulary data")}let n=await l.json();if(n.vocabulary&&Array.isArray(n.vocabulary))s(n.vocabulary);else throw Error("Invalid vocabulary data received")}catch(e){console.error("Error fetching vocabulary:",e),o(e instanceof Error?e.message:"Unknown error occurred")}finally{t(!1)}},h=async(e,s)=>{await d(e,s)};return(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Học Từ Vựng Tiếng Nhật"}),(0,l.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Học từ vựng tiếng Nhật với ph\xe1t \xe2m chuẩn x\xe1c v\xe0 v\xed dụ thực tế. Tất cả được tạo v\xe0 cập nhật bởi AI."})]}),(0,l.jsx)(i,{onSearch:h}),a?(0,l.jsxs)("div",{className:"text-center p-12",children:[(0,l.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),(0,l.jsx)("p",{className:"mt-2",children:"Đang tải từ vựng..."})]}):c?(0,l.jsxs)("div",{className:"text-center p-12 text-red-500",children:[(0,l.jsxs)("p",{children:["Lỗi: ",c]}),(0,l.jsx)("button",{onClick:()=>d(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Thử lại"})]}):0===e.length?(0,l.jsx)("div",{className:"text-center p-12",children:(0,l.jsx)("p",{children:"Kh\xf4ng t\xecm thấy từ vựng n\xe0o ph\xf9 hợp. Vui l\xf2ng thử lại với từ kh\xf3a kh\xe1c."})}):(0,l.jsx)(r,{vocabulary:e})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(1871)),_N_E=e.O()}]);