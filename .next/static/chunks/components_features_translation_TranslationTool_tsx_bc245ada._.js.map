{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Code/japanese-learning/components/features/translation/TranslationTool.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\nexport default function TranslationTool() {\n  const [sourceText, setSourceText] = useState(\"\");\n  const [translatedText, setTranslatedText] = useState(\"\");\n  const [sourceLang, setSourceLang] = useState(\"vi\");\n  const [targetLang, setTargetLang] = useState(\"ja\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const translateText = async () => {\n    if (!sourceText.trim()) return;\n    \n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      // Trong video thực tế, sẽ gọi API\n      // const response = await fetch('/api/ai/translate', {\n      //   method: 'POST',\n      //   headers: {\n      //     'Content-Type': 'application/json',\n      //   },\n      //   body: JSON.stringify({\n      //     text: sourceText,\n      //     sourceLang,\n      //     targetLang\n      //   }),\n      // });\n      \n      // if (!response.ok) {\n      //   throw new Error('Translation failed');\n      // }\n      \n      // const data = await response.json();\n      // setTranslatedText(data.translatedText);\n      \n      // Giả lập kết quả dịch cho video demo\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      if (sourceLang === \"vi\" && targetLang === \"ja\") {\n        if (sourceText.toLowerCase().includes(\"xin chào\")) {\n          setTranslatedText(\"こんにちは\");\n        } else if (sourceText.toLowerCase().includes(\"cảm ơn\")) {\n          setTranslatedText(\"ありがとうございます\");\n        } else if (sourceText.toLowerCase().includes(\"tôi tên là\")) {\n          setTranslatedText(\"私の名前は...です\");\n        } else {\n          setTranslatedText(\"日本語で翻訳されたテキスト\");\n        }\n      } else if (sourceLang === \"ja\" && targetLang === \"vi\") {\n        if (sourceText.includes(\"こんにちは\")) {\n          setTranslatedText(\"Xin chào\");\n        } else if (sourceText.includes(\"ありがとう\")) {\n          setTranslatedText(\"Cảm ơn\");\n        } else if (sourceText.includes(\"私の名前は\")) {\n          setTranslatedText(\"Tôi tên là...\");\n        } else {\n          setTranslatedText(\"Văn bản được dịch sang tiếng Việt\");\n        }\n      } else {\n        setTranslatedText(\"Translated text will appear here\");\n      }\n    } catch (error) {\n      console.error(\"Translation error:\", error);\n      setError(\"Có lỗi xảy ra khi dịch. Vui lòng thử lại sau!\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const swapLanguages = () => {\n    setSourceLang(targetLang);\n    setTargetLang(sourceLang);\n    setSourceText(translatedText);\n    setTranslatedText(sourceText);\n  };\n\n  return (\n    <div className=\"border rounded-lg p-6 space-y-6\">\n      <div className=\"flex justify-center items-center space-x-2\">\n        <select\n          value={sourceLang}\n          onChange={(e) => setSourceLang(e.target.value)}\n          className=\"p-2 border rounded\"\n          aria-label=\"Source language\"\n        >\n          <option value=\"vi\">Tiếng Việt</option>\n          <option value=\"ja\">Tiếng Nhật</option>\n          <option value=\"en\">Tiếng Anh</option>\n        </select>\n        \n        <button \n          onClick={swapLanguages}\n          className=\"p-2 border rounded hover:bg-gray-100\"\n        >\n          ⇄\n        </button>\n        <select\n          value={targetLang}\n          onChange={(e) => setTargetLang(e.target.value)}\n          className=\"p-2 border rounded\"\n          aria-label=\"Target language\"\n        >\n          <option value=\"ja\">Tiếng Nhật</option>\n          <option value=\"vi\">Tiếng Việt</option>\n          <option value=\"en\">Tiếng Anh</option>\n        </select>\n      </div>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <textarea\n            value={sourceText}\n            onChange={(e) => setSourceText(e.target.value)}\n            placeholder=\"Nhập văn bản cần dịch...\"\n            className=\"w-full h-48 p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none\"\n          />\n        </div>\n        \n        <div>\n          <div className=\"w-full h-48 p-3 border rounded-lg bg-gray-50 overflow-auto\">\n            {isLoading ? (\n              <div className=\"flex items-center justify-center h-full\">\n                <div className=\"inline-block h-6 w-6 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]\"></div>\n                <span className=\"ml-2\">Đang dịch...</span>\n              </div>\n            ) : error ? (\n              <div className=\"text-red-500\">{error}</div>\n            ) : translatedText ? (\n              <div>{translatedText}</div>\n            ) : (\n              <div className=\"text-gray-400 h-full flex items-center justify-center\">\n                Bản dịch sẽ xuất hiện ở đây\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"flex justify-center\">\n        <button\n          onClick={translateText}\n          disabled={isLoading || !sourceText.trim()}\n          className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 transition-colors\"\n        >\n          {isLoading ? \"Đang dịch...\" : \"Dịch\"}\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}