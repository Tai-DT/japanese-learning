(()=>{var e={};e.id=428,e.ids=[428],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1745:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,5814,23))},2068:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});var n=s(687),r=s(3210);function a(){let[e,t]=(0,r.useState)([{role:"assistant",content:"こんにちは！日本語を練習しましょう。何か話したいことがありますか？\n(Xin ch\xe0o! H\xe3y c\xf9ng luyện tập tiếng Nhật. Bạn muốn n\xf3i về điều g\xec?)"}]),[s,a]=(0,r.useState)(""),[i,l]=(0,r.useState)(!1),[o,d]=(0,r.useState)("beginner"),c=(0,r.useRef)(null),h=async e=>{if(e.preventDefault(),!s.trim())return;let n={role:"user",content:s};t(e=>[...e,n]),a(""),l(!0);try{let e=`You are a Japanese language tutor. The user is at ${o} level. 
      Always respond in simple Japanese followed by Vietnamese translation in parentheses. 
      Keep responses short and helpful.`,n=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s,context:e})});if(!n.ok)throw Error(`API request failed with status ${n.status}`);let r=(await n.json()).response,a={role:"assistant",content:r};t(e=>[...e,a])}catch(s){console.error("Error sending message:",s);let e={role:"assistant",content:"すみません、エラーが発生しました。もう一度お試しください。\n(Xin lỗi, đ\xe3 xảy ra lỗi. Vui l\xf2ng thử lại.)"};t(t=>[...t,e])}finally{l(!1)}};return(0,n.jsxs)("div",{className:"flex flex-col h-[600px] border rounded-lg",children:[(0,n.jsx)("div",{className:"border-b p-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h2",{className:"font-bold",children:"Tr\xf2 Chuyện Tiếng Nhật"}),(0,n.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:"p-2 border rounded-md text-sm","aria-label":"Japanese proficiency level",children:[(0,n.jsx)("option",{value:"beginner",children:"Người mới bắt đầu"}),(0,n.jsx)("option",{value:"intermediate",children:"Trung cấp"}),(0,n.jsx)("option",{value:"advanced",children:"N\xe2ng cao"})]})]})}),(0,n.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto",children:[e.map((e,t)=>(0,n.jsx)("div",{className:`mb-4 p-3 rounded-lg max-w-[80%] ${"user"===e.role?"bg-blue-100 ml-auto":"bg-gray-100 mr-auto"}`,children:(0,n.jsx)("pre",{className:"whitespace-pre-wrap font-sans",children:e.content})},t)),i&&(0,n.jsxs)("div",{className:"bg-gray-100 p-3 rounded-lg mr-auto max-w-[80%]",children:[(0,n.jsx)("span",{className:"inline-block animate-pulse",children:"●"}),(0,n.jsx)("span",{className:"inline-block animate-pulse delay-100",children:"●"}),(0,n.jsx)("span",{className:"inline-block animate-pulse delay-200",children:"●"})]}),(0,n.jsx)("div",{ref:c})]}),(0,n.jsx)("form",{onSubmit:h,className:"border-t p-4",children:(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("input",{type:"text",value:s,onChange:e=>a(e.target.value),placeholder:"Nhập tin nhắn bằng tiếng Anh hoặc tiếng Nhật...",className:"flex-1 p-2 border rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:i}),(0,n.jsx)("button",{type:"submit",disabled:i||!s.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-r-lg hover:bg-blue-700 disabled:bg-blue-300 transition-colors",children:"Gửi"})]})})]})}},2145:(e,t,s)=>{Promise.resolve().then(s.bind(s,2068))},2704:()=>{},2868:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},3012:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},5383:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var n=s(7413),r=s(6942);function a(){return(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Luyện Hội Thoại Tiếng Nhật"}),(0,n.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Tr\xf2 chuyện với AI để luyện kỹ năng hội thoại tiếng Nhật. AI sẽ điều chỉnh cấp độ ph\xf9 hợp với tr\xecnh độ của bạn."})]}),(0,n.jsx)(r.default,{})]})}},6055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var n=s(1658);let r=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},6942:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});let n=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/mac/Code/japanese-learning/components/features/ai-chat/ChatInterface.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mac/Code/japanese-learning/components/features/ai-chat/ChatInterface.tsx","default")},8593:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4536,23))},8993:(e,t,s)=>{Promise.resolve().then(s.bind(s,6942))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9248:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h,metadata:()=>c});var n=s(7413),r=s(9258),a=s.n(r);s(2704),s(1120);var i=s(4536),l=s.n(i);let o=()=>(0,n.jsx)("header",{className:"bg-white shadow-sm py-4",children:(0,n.jsxs)("div",{className:"container mx-auto px-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Japanese Learning App"}),(0,n.jsx)("nav",{className:"mt-2",children:(0,n.jsxs)("ul",{className:"flex space-x-4",children:[(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:"/",className:"text-blue-600 hover:text-blue-800",children:"Home"})}),(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:"/lessons",className:"text-blue-600 hover:text-blue-800",children:"Lessons"})}),(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:"/practice",className:"text-blue-600 hover:text-blue-800",children:"Practice"})})]})})]})}),d=()=>(0,n.jsx)("footer",{className:"bg-gray-800 text-white p-4",children:(0,n.jsx)("div",{className:"container mx-auto",children:(0,n.jsxs)("p",{className:"text-center",children:["\xa9 ",new Date().getFullYear()," Japanese Learning App. All rights reserved."]})})}),c={title:"Japanese Learning with AI",description:"Learn Japanese with the help of AI"};function h({children:e}){return(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{className:a().className,children:(0,n.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,n.jsx)(o,{}),(0,n.jsx)("main",{className:"flex-grow container mx-auto px-4 py-8",children:e}),(0,n.jsx)(d,{})]})})})}},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9540:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>d});var n=s(5239),r=s(8088),a=s(8170),i=s.n(a),l=s(893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d={children:["",{children:["conversation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5383)),"/Users/mac/Code/japanese-learning/app/conversation/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,9248)),"/Users/mac/Code/japanese-learning/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/mac/Code/japanese-learning/app/conversation/page.tsx"],h={require:s,loadChunk:()=>Promise.resolve()},u=new n.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/conversation/page",pathname:"/conversation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[447,698,658],()=>s(9540));module.exports=n})();