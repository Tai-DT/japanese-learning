{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Code/japanese-learning/components/features/vocabulary/VocabularyCard.tsx"],"sourcesContent":["// components/features/vocabulary/VocabularyCard.tsx\n\"use client\";\n\nimport { useState } from \"react\";\nimport { VocabularyItem } from \"@/types\";\n\ninterface VocabularyCardProps {\n  item: VocabularyItem;\n}\n\nexport default function VocabularyCard({ item }: VocabularyCardProps) {\n  const [showMeaning, setShowMeaning] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  const playAudio = async () => {\n    if (isPlaying) return;\n    \n    setIsPlaying(true);\n    \n    try {\n      // Sử dụng Web Speech API để phát âm\n      const utterance = new SpeechSynthesisUtterance(item.japanese);\n      utterance.lang = \"ja-JP\";\n      utterance.onend = () => setIsPlaying(false);\n      speechSynthesis.speak(utterance);\n    } catch (error) {\n      console.error(\"Error playing audio:\", error);\n      setIsPlaying(false);\n    }\n  };\n\n  return (\n    <div className=\"border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow\">\n      <div className=\"p-4\">\n        <div className=\"flex justify-between items-center\">\n          <h3 className=\"text-2xl font-bold\">{item.japanese}</h3>\n          <span className=\"text-xs bg-blue-100 px-2 py-1 rounded\">{item.level}</span>\n        </div>\n        <p className=\"text-gray-600\">{item.hiragana}</p>\n        <p className=\"text-gray-500 text-sm\">{item.romaji}</p>\n      </div>\n\n      <div className=\"p-4 border-t bg-gray-50\">\n        {showMeaning ? (\n          <div className=\"space-y-2\">\n            <p className=\"font-medium\">{item.meaning}</p>\n            <div className=\"mt-4 p-3 bg-gray-100 rounded-md\">\n              <p className=\"text-sm font-medium\">Ví dụ:</p>\n              <p className=\"mt-1\">{item.example.japanese}</p>\n              <p className=\"text-sm text-gray-600\">{item.example.meaning}</p>\n            </div>\n          </div>\n        ) : (\n          <div className=\"h-24 flex items-center justify-center\">\n            <p className=\"text-gray-400\">Nhấn để hiển thị nghĩa</p>\n          </div>\n        )}\n      </div>\n\n      <div className=\"flex border-t\">\n        <button \n          className=\"flex-1 py-2 text-center hover:bg-gray-100 transition-colors\"\n          onClick={() => setShowMeaning(!showMeaning)}\n        >\n          {showMeaning ? \"Ẩn nghĩa\" : \"Hiện nghĩa\"}\n        </button>\n        <button \n     className=\"flex-1 py-2 text-center bg-blue-50 hover:bg-blue-100 transition-colors\"\n     onClick={playAudio}\n     disabled={isPlaying}\n   >\n     {isPlaying ? \"Đang phát...\" : \"Phát âm\"}\n   </button>\n </div>\n</div>\n);\n}"],"names":[],"mappings":"AAAA,oDAAoD;;;;;AAGpD;AAFA;;;AASe,SAAS,eAAe,EAAE,IAAI,EAAuB;IAClE,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,YAAY;QAChB,IAAI,WAAW;QAEf,aAAa;QAEb,IAAI;YACF,oCAAoC;YACpC,MAAM,YAAY,IAAI,yBAAyB,KAAK,QAAQ;YAC5D,UAAU,IAAI,GAAG;YACjB,UAAU,KAAK,GAAG,IAAM,aAAa;YACrC,gBAAgB,KAAK,CAAC;QACxB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,aAAa;QACf;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAsB,KAAK,QAAQ;;;;;;0CACjD,8OAAC;gCAAK,WAAU;0CAAyC,KAAK,KAAK;;;;;;;;;;;;kCAErE,8OAAC;wBAAE,WAAU;kCAAiB,KAAK,QAAQ;;;;;;kCAC3C,8OAAC;wBAAE,WAAU;kCAAyB,KAAK,MAAM;;;;;;;;;;;;0BAGnD,8OAAC;gBAAI,WAAU;0BACZ,4BACC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAe,KAAK,OAAO;;;;;;sCACxC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CAAsB;;;;;;8CACnC,8OAAC;oCAAE,WAAU;8CAAQ,KAAK,OAAO,CAAC,QAAQ;;;;;;8CAC1C,8OAAC;oCAAE,WAAU;8CAAyB,KAAK,OAAO,CAAC,OAAO;;;;;;;;;;;;;;;;;yCAI9D,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;0BAKnC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,WAAU;wBACV,SAAS,IAAM,eAAe,CAAC;kCAE9B,cAAc,aAAa;;;;;;kCAE9B,8OAAC;wBACJ,WAAU;wBACV,SAAS;wBACT,UAAU;kCAET,YAAY,iBAAiB;;;;;;;;;;;;;;;;;;AAKnC","debugId":null}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Code/japanese-learning/components/features/vocabulary/VocabularyGrid.tsx"],"sourcesContent":["// components/features/vocabulary/VocabularyGrid.tsx\nimport { VocabularyItem } from \"@/types\";\nimport VocabularyCard from \"./VocabularyCard\";\n\ninterface VocabularyGridProps {\n  vocabulary: VocabularyItem[];\n}\n\nexport default function VocabularyGrid({ vocabulary }: VocabularyGridProps) {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      {vocabulary.map((item) => (\n        <VocabularyCard key={item.id} item={item} />\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,oDAAoD;;;;;AAEpD;;;AAMe,SAAS,eAAe,EAAE,UAAU,EAAuB;IACxE,qBACE,8OAAC;QAAI,WAAU;kBACZ,WAAW,GAAG,CAAC,CAAC,qBACf,8OAAC,uJAAA,CAAA,UAAc;gBAAe,MAAM;eAAf,KAAK,EAAE;;;;;;;;;;AAIpC","debugId":null}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Code/japanese-learning/components/features/vocabulary/VocabularySearch.tsx"],"sourcesContent":["// components/features/vocabulary/VocabularySearch.tsx\n\"use client\";\n\nimport { useState } from \"react\";\n\ninterface VocabularySearchProps {\n  onSearch: (term: string, level: string) => void;\n}\n\nexport default function VocabularySearch({ onSearch }: VocabularySearchProps) {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [level, setLevel] = useState(\"all\");\n  \n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSearch(searchTerm, level);\n  };\n  \n  return (\n    <div className=\"bg-gray-50 p-6 rounded-lg\">\n      <form onSubmit={handleSearch} className=\"space-y-4\">\n        <div className=\"flex flex-col md:flex-row gap-4\">\n          <div className=\"flex-1\">\n            <input\n              type=\"text\"\n              placeholder=\"Tìm kiếm từ vựng...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none\"\n            />\n          </div>\n          <div className=\"md:w-1/4\">\n            <label htmlFor=\"level-select\" className=\"sr-only\">Cấp độ</label>\n            <select\n              id=\"level-select\"\n              value={level}\n              onChange={(e) => setLevel(e.target.value)}\n              className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none\"\n            >\n              <option value=\"all\">Tất cả cấp độ</option>\n              <option value=\"N5\">N5 (Cơ bản)</option>\n              <option value=\"N4\">N4</option>\n              <option value=\"N3\">N3</option>\n              <option value=\"N2\">N2</option>\n              <option value=\"N1\">N1 (Nâng cao)</option>\n            </select>\n          </div>\n          <button\n            type=\"submit\"\n            className=\"md:w-auto px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            Tìm Kiếm\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,sDAAsD;;;;;AAGtD;AAFA;;;AAQe,SAAS,iBAAiB,EAAE,QAAQ,EAAyB;IAC1E,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,SAAS,YAAY;IACvB;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAK,UAAU;YAAc,WAAU;sBACtC,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;4BAC7C,WAAU;;;;;;;;;;;kCAGd,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,SAAQ;gCAAe,WAAU;0CAAU;;;;;;0CAClD,8OAAC;gCACC,IAAG;gCACH,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,WAAU;;kDAEV,8OAAC;wCAAO,OAAM;kDAAM;;;;;;kDACpB,8OAAC;wCAAO,OAAM;kDAAK;;;;;;kDACnB,8OAAC;wCAAO,OAAM;kDAAK;;;;;;kDACnB,8OAAC;wCAAO,OAAM;kDAAK;;;;;;kDACnB,8OAAC;wCAAO,OAAM;kDAAK;;;;;;kDACnB,8OAAC;wCAAO,OAAM;kDAAK;;;;;;;;;;;;;;;;;;kCAGvB,8OAAC;wBACC,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Code/japanese-learning/app/vocabulary/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport VocabularyGrid from \"@/components/features/vocabulary/VocabularyGrid\";\nimport VocabularySearch from \"@/components/features/vocabulary/VocabularySearch\";\nimport { VocabularyItem } from \"@/types\";\n\nexport default function VocabularyPage() {\n  const [vocabulary, setVocabulary] = useState<VocabularyItem[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Initial fetch of vocabulary\n  useEffect(() => {\n    fetchVocabulary();\n  }, []);\n\n  const fetchVocabulary = async (term: string = \"\", level: string = \"N5\") => {\n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const response = await fetch('/api/ai/vocabulary', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ query: term, level, count: 6 }),\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || \"Failed to fetch vocabulary data\");\n      }\n      \n      const data = await response.json();\n      \n      if (data.vocabulary && Array.isArray(data.vocabulary)) {\n        setVocabulary(data.vocabulary);\n      } else {\n        throw new Error(\"Invalid vocabulary data received\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching vocabulary:\", error);\n      setError(error instanceof Error ? error.message : \"Unknown error occurred\");\n      // Keep the previous vocabulary if there's an error\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSearch = async (term: string, level: string) => {\n    await fetchVocabulary(term, level);\n  };\n\n  return (\n    <div className=\"space-y-8\">\n      <div className=\"text-center\">\n        <h1 className=\"text-3xl font-bold mb-2\">Học Từ Vựng Tiếng Nhật</h1>\n        <p className=\"text-gray-600 max-w-2xl mx-auto\">\n          Học từ vựng tiếng Nhật với phát âm chuẩn xác và ví dụ thực tế.\n          Tất cả được tạo và cập nhật bởi AI.\n        </p>\n      </div>\n      \n      <VocabularySearch onSearch={handleSearch} />\n      \n      {isLoading ? (\n        <div className=\"text-center p-12\">\n          <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]\"></div>\n          <p className=\"mt-2\">Đang tải từ vựng...</p>\n        </div>\n      ) : error ? (\n        <div className=\"text-center p-12 text-red-500\">\n          <p>Lỗi: {error}</p>\n          <button \n            onClick={() => fetchVocabulary()} \n            className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n          >\n            Thử lại\n          </button>\n        </div>\n      ) : vocabulary.length === 0 ? (\n        <div className=\"text-center p-12\">\n          <p>Không tìm thấy từ vựng nào phù hợp. Vui lòng thử lại với từ khóa khác.</p>\n        </div>\n      ) : (\n        <VocabularyGrid vocabulary={vocabulary} />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAoB,EAAE;IACjE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,8BAA8B;IAC9B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG,EAAE;IAEL,MAAM,kBAAkB,OAAO,OAAe,EAAE,EAAE,QAAgB,IAAI;QACpE,aAAa;QACb,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,sBAAsB;gBACjD,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE,OAAO;oBAAM;oBAAO,OAAO;gBAAE;YACtD;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI;YACvC;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,KAAK,UAAU,IAAI,MAAM,OAAO,CAAC,KAAK,UAAU,GAAG;gBACrD,cAAc,KAAK,UAAU;YAC/B,OAAO;gBACL,MAAM,IAAI,MAAM;YAClB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAClD,mDAAmD;QACrD,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,eAAe,OAAO,MAAc;QACxC,MAAM,gBAAgB,MAAM;IAC9B;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA0B;;;;;;kCACxC,8OAAC;wBAAE,WAAU;kCAAkC;;;;;;;;;;;;0BAMjD,8OAAC,yJAAA,CAAA,UAAgB;gBAAC,UAAU;;;;;;YAE3B,0BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAO;;;;;;;;;;;uBAEpB,sBACF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;4BAAE;4BAAM;;;;;;;kCACT,8OAAC;wBACC,SAAS,IAAM;wBACf,WAAU;kCACX;;;;;;;;;;;uBAID,WAAW,MAAM,KAAK,kBACxB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;8BAAE;;;;;;;;;;qCAGL,8OAAC,uJAAA,CAAA,UAAc;gBAAC,YAAY;;;;;;;;;;;;AAIpC","debugId":null}}]
}